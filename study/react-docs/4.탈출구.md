# íƒˆì¶œêµ¬

## Refë¡œ ê°’ ì°¸ì¡°í•˜ê¸°

- ì»´í¬ë„ŒíŠ¸ê°€ ì¼ë¶€ ì •ë³´ë¥¼ "ê¸°ì–µ"í•˜ê³  ì‹¶ì§€ë§Œ í•´ë‹¹ì •ë³´ê°€ ë Œë”ë§ì„ ìœ ë°œí•˜ì§€ ì•Šë„ë¡ í•˜ë ¤ë©´ refë¥¼ ì‚¬ìš©í•˜ì„¸ìš”

### ì»´í¬ë„ŒíŠ¸ì— refë¥¼ ì¶”ê°€í•˜ê¸°

- ref.current í”„ë¡œí¼í‹°ë¥¼ í†µí•´ í•´ë‹¹ refì˜ current ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- refëŠ” stateì²˜ëŸ¼ ë¬¸ìì—´, ê°ì²´, í•¨ìˆ˜ ë“± ëª¨ë“ ê²ƒì„ ê°€ë¦¬í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- stateì™€ëŠ” ë‹¬ë¦¬ ì½ê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” current í”„ë¡œí¼í‹°ë¥¼ ê°€ì§„ ì¼ë°˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ì…ë‹ˆë‹¤.
- refë¥¼ ìˆ˜ì •í•´ë„ ë‹¤ì‹œ ë Œë”ë§ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### refì™€ stateì˜ ì°¨ì´

| refs                                                                           | state                                                                                                     |
| ------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------- |
| stateë¥¼ ë°”ê¿”ë„ ë¦¬ë Œë” ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.                                           | stateë¥¼ ë°”ê¾¸ë©´ ë¦¬ë Œë” ë©ë‹ˆë‹¤.                                                                             |
| Mutable - ë Œë”ë§ í”„ë¡œì„¸ìŠ¤ ì™¸ë¶€ì—ì„œ currentê°’ì„ ìˆ˜ì • ë° ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. | Immutable - stateë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•´ì„œ setState í•¨ìˆ˜ë¥¼ ë°˜ë“œì‹œ ì‚¬ìš©í•˜ì—¬ ë¦¬ë Œë” ëŒ€ê¸°ì—´ì— ë„£ì–´ì•¼ í•©ë‹ˆë‹¤.        |
| ëœë”ë§ ì¤‘ì—ëŠ” current ê°’ì„ ì½ê±°ë‚˜ ì“°ë©´ ì•ˆ ë©ë‹ˆë‹¤.                              | ì–¸ì œë“ ì§€ stateë¥¼ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê° ë Œë”ë§ˆë‹¤ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ìì²´ì ì¸ stateì˜ snapshotì´ ìˆìŠµë‹ˆë‹¤. |

### refë¥¼ ì‚¬ìš©í•  ì‹œê¸°

- timeout IDsë¥¼ ì €ì¥
- DOM ì—˜ë¦¬ë¨¼íŠ¸ ì €ì¥ ë° ì¡°ì‘
- JSXë¥¼ ê³„ì‚°í•˜ëŠ” ë° í•„ìš”í•˜ì§€ ì•Šì€ ë‹¤ë¥¸ ê°ì²´ ì €ì¥

### refsì˜ ì¢‹ì€ ì˜ˆì‹œ

- refsë¥¼ escape hatchë¡œ ê°„ì£¼í•©ë‹ˆë‹¤. RefsëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œì´ë‚˜ ë¸Œë¼ìš°ì € APIë¡œ ì‘ì—…í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤(???)
- ëœë”ë§ ì¤‘ì— ref.currentë¥¼ ì½ê±°ë‚˜ ì“°ì§€ë§ˆì„¸ìš” ë Œë”ë§ ì¤‘ì— ì¼ë¶€ ì •ë³´ê°€ í•„ìš”í•œ ê²½ìš° stateë¥¼ ëŒ€ì‹  ì‚¬ìš©í•˜ì„¸ìš”
- refëŠ” ë™ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ë©ë‹ˆë‹¤. ref.currentì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ì¦‰ì‹œ ë³€ê²½ë©ë‹ˆë‹¤.
- refê°€ ì¼ë°˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ ì²˜ëŸ¼ ë™ì‘í•©ë‹ˆë‹¤

### refsì™€ DOM

- refì˜ ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ë¡€ëŠ” DOMì—˜ë¦¬ë¨¼íŠ¸ì— ì—‘ì„¸ìŠ¤ í•˜ëŠ”ê²ƒì…ë‹ˆë‹¤.

## Refë¡œ DOM ì¡°ì‘í•˜ê¸°

### refë¡œ ë…¸ë“œ ê°€ì ¸ì˜¤ê¸°

```tsx
import { useRef } from "react";

const Component = () => {
  const myRef = useRef(null);
  return <div ref={myRef} />;
};
```

- ì´ DOMë…¸ë“œì˜ ì´ë²¤íŠ¸ í—¨ë“¤ëŸ¬ì— ì ‘ê·¼í•˜ê±°ë‚˜ ë…¸ë“œì— ì •ì˜ëœ ë‚´ì¥ ë¸Œë¼ìš°ì € APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> ref ì½œë°±ì„ ì‚¬ìš©í•˜ì—¬ ref ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬í•˜ê¸°
>
> ```tsx
> <ul>
>   {items.map((item) => {
>     // ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!
>     const ref = useRef(null);
>     return <li ref={ref} />;
>   })}
> </ul>
> ```
>
> ```tsx
> import { useRef } from "react";
>
> export default function CatFriends() {
>   const itemsRef = useRef(null);
>
>   function scrollToId(itemId) {
>     const map = getMap();
>     const node = map.get(itemId);
>     node.scrollIntoView({
>       behavior: "smooth",
>       block: "nearest",
>       inline: "center",
>     });
>   }
>
>   function getMap() {
>     if (!itemsRef.current) {
>       // ì²˜ìŒ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, Mapì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
>       itemsRef.current = new Map();
>     }
>     return itemsRef.current;
>   }
>
>   return (
>     <>
>       <nav>
>         <button onClick={() => scrollToId(0)}>Tom</button>
>         <button onClick={() => scrollToId(5)}>Maru</button>
>         <button onClick={() => scrollToId(9)}>Jellylorum</button>
>       </nav>
>       <div>
>         <ul>
>           {catList.map((cat) => (
>             <li
>               key={cat.id}
>               ref={(node) => {
>                 const map = getMap();
>                 if (node) {
>                   map.set(cat.id, node);
>                 } else {
>                   map.delete(cat.id);
>                 }
>               }}
>             >
>               <img src={cat.imageUrl} alt={"Cat #" + cat.id} />
>             </li>
>           ))}
>         </ul>
>       </div>
>     </>
>   );
> }
>
> const catList = [];
> for (let i = 0; i < 10; i++) {
>   catList.push({
>     id: i,
>     imageUrl: "https://placekitten.com/250/200?image=" + i,
>   });
> }
> ```

### ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì˜ DOM ë…¸ë“œ ì ‘ê·¼í•˜ê¸°

- HTML ê¸°ë³¸ ìš”ì†Œ(input ê°™ì€)ì¸ ë‚´ì¥ ì»´í¬ë„ŒíŠ¸ì— refë¥¼ ì£¼ì…í•  ë•Œ ReactëŠ” refì˜ current í”„ë¡œí¼í‹°ë¥¼ ê·¸ì— í•´ë‹¹í•˜ëŠ” DOM ë…¸ë“œë¡œ ì„¤ì •í•œë‹¤.
- ì§ì ‘ ë§Œë“  ì»´í¬ë„ŒíŠ¸ì— refë¥¼ ì£¼ì…í• ë•ŒëŠ” ê¸°ë³¸ì ìœ¼ë¡œ nullì´ ì£¼ì–´ì§‘ë‹ˆë‹¤. ì§ì ‘ ë§Œë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ref.currentì— ì„¤ì •í•˜ê¸° ìœ„í•´ì„œëŠ” forwardRef()ë¥¼ ì‚¬ìš©í•´ì£¼ì–´ì•¼ í•œë‹¤.

```tsx
const MyInput = forwardRef((props, ref)=>{
    return <input {...props} ref={ref}>
})
```

- ìœ„ ì˜ˆì‹œì²˜ëŸ¼ forwardRefë¡œ ê°ì‹¸ì§„ ì»´í¬ë„ŒíŠ¸ëŠ” refë¥¼ ì£¼ì…ë°›ì•„ ì „ë‹¬í• ìˆ˜ ìˆê²Œ ëœë‹¤.

> ëª…ë ¹í˜• ì²˜ë¦¬ë°©ì‹ìœ¼ë¡œ í•˜ìœ„ API ë…¸ì¶œí•˜ê¸°
>
> `useImperativeHandle`ì„ ì‚¬ìš©í•˜ì—¬ ìƒìœ„ ë…¸ë“œì—ì„œ refë¥¼ í†µí•´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œë¥¼ ì œí•œí•˜ê±°ë‚˜ ì»¤ìŠ¤í…€ í•  ìˆ˜ ìˆë‹¤.
>
> ```tsx
> import { forwardRef, useRef, useImperativeHandle } from "react";
>
> const MyInput = forwardRef((props, ref) => {
>   const realInputRef = useRef(null);
>   useImperativeHandle(ref, () => ({
>     // ì˜¤ì§ focusë§Œ ë…¸ì¶œí•©ë‹ˆë‹¤.
>     focus() {
>       realInputRef.current.focus();
>     },
>   }));
>   return <input {...props} ref={realInputRef} />;
> });
>
> export default function Form() {
>   const inputRef = useRef(null);
>
>   function handleClick() {
>     inputRef.current.focus();
>   }
>
>   return (
>     <>
>       <MyInput ref={inputRef} />
>       <button onClick={handleClick}>Focus the input</button>
>     </>
>   );
> }
> ```

## Reactê°€ refë¥¼ ë¶€ì—¬í•  ë•Œ

- ë Œë”ë§ ë‹¨ê³„ì—ì„œ ReactëŠ” í™”ë©´ì— ë¬´ì—‡ì„ ê·¸ë ¤ì•¼ í•˜ëŠ”ì§€ ì•Œì•„ë‚´ë„ë¡ ì»´í¬ë„ŒíŠ¸ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
  - ì¼ë°˜ì ìœ¼ë¡œ ë Œë”ë§í•˜ëŠ” ì¤‘ refì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  - ì²« ë Œë”ë§ì—ì„œ DOMë…¸ë“œëŠ” ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•„ ref.currentëŠ” nullì¸ ìƒíƒœì…ë‹ˆë‹¤.
  - ê°±ì‹ ì— ì˜í•œ ë Œë”ë§ì—ì„œ DOMë…¸ë“œëŠ” ì•„ì§ ì—…ë°ì´íŠ¸ ë˜ì§€ ì•Šì€ ìƒíƒœì…ë‹ˆë‹¤.
  - ë‘ ìƒí™© ëª¨ë‘ refë¥¼ ì½ê¸°ì— ë„ˆë¬´ ì´ë¥¸ ìƒí™©ì…ë‹ˆë‹¤.
- ì»¤ë°‹ ë‹¨ê³„ì—ì„œ ReactëŠ” ë³€ê²½ì‚¬í•­ì„ DOMì— ì ìš©í•©ë‹ˆë‹¤.
  - ref.currentë¥¼ ì»¤ë°‹ ë‹¨ê³„ì—ì„œ ì„¤ì •í•©ë‹ˆë‹¤.
  - DOMì„ ë³€ê²½í•˜ê¸° ì „ì— ReactëŠ” ê´€ë ¨ëœ ref.current ê°’ì„ ë¯¸ë¦¬ nullë¡œ ì„¤ì •í•˜ê³  DOMì„ ë³€ê²½í•˜ëŠ” ì¦‰ì‹œ ëŒ€ì‘í•˜ëŠ” DOM ë…¸ë“œë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
- ëŒ€ë¶€ë¶„ì˜ ref ì ‘ê·¼ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì•ˆì—ì„œ ì¼ì–´ë‚©ë‹ˆë‹¤.

> flushSyncë¡œ state ë³€ê²½ì„ ë™ì ìœ¼ë¡œ í”ŒëŸ¬ì‹œí•˜ê¸°
>
> ì•„ë˜ì™€ ê°™ì´ setStateë¥¼ flushSyncë¡œ ê°ì‹¸ë©´ setStateê°€ ë™ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰ëœë‹¤.
>
> ```ts
> flushSync(() => {
>   setState(555);
> });
> ```

### refë¡œ DOMì„ ì¡°ì‘í•˜ëŠ” ëª¨ë²” ì‚¬ë¡€

- ë§ì€ ê²½ìš° refëŠ” í¬ì»¤ì‹±, ìŠ¤í¬ë¡¤ë§, DOM ìš”ì†Œ í¬ê¸° í˜¹ì€ ìœ„ì¹˜ ì¸¡ì • ë“± ë¹„ íŒŒê´´ì ì¸ í–‰ë™ì„ ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.
- Reactê°€ ê´€ë¦¬í•˜ëŠ” DOM ë…¸ë“œë¥¼ ì§ì ‘ ë°”ê¾¸ë ¤ í•˜ì§€ ë§ˆì„¸ìš”.
- Reactê°€ ê´€ë¦¬í•˜ëŠ” DOM ë…¸ë“œë¥¼ ìˆ˜ì •í•˜ë ¤ í•œë‹¤ë©´, Reactê°€ ë³€ê²½í•  ì´ìœ ê°€ ì—†ëŠ” ë¶€ë¶„ë§Œ ìˆ˜ì •í•˜ì„¸ìš”.

## Effectë¡œ ë™ê¸°í™” í•˜ê¸°

### Effectë€ ë¬´ì—‡ì´ê³  ì´ë²¤íŠ¸ì™€ëŠ” ì–´ë–»ê²Œ ë‹¤ë¥¸ê°€ìš”?

- ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ 2ê°€ì§€ ë¡œì§ ìœ í˜•
  - ë Œë”ë§ ì½”ë“œ: ì»´í¬ë„ŒíŠ¸ ìµœìƒë‹¨ì— ìœ„ì¹˜í•˜ë©° propsì™€ stateë¥¼ ì ì ˆíˆ ë³€í˜•í•´ ê²°ê³¼ì ìœ¼ë¡œ JSXë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë Œë”ë§ ì½”ë“œ ë¡œì§ì€ ìˆœìˆ˜í•´ì•¼í•©ë‹ˆë‹¤.
  - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬: ë‹¨ìˆœí•œ ê³„ì‚° ìš©ë„ê°€ ì•„ë‹Œ ë¬´ì–¸ê°€ë¥¼ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ ì¤‘ì²©í•¨ìˆ˜ ì…ë‹ˆë‹¤. ì…ë ¥í•„ë“œë¥¼ ì—…ë°ì´íŠ¸ í•˜ê±°ë‚˜ HTTP ìš”ì²­ì„ ë³´ë‚´ê±°ë‚˜ ì‚¬ìš©ìë¥¼ ë‹¤ë¥¸ í™”ë©´ìœ¼ë¡œ ì´ë™ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ì‘ì—…ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ë¶€ìˆ˜íš¨ê³¼ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- EffectëŠ” ë Œë”ë§ ìì²´ì— ì˜í•´ ë°œìƒí•˜ëŠ” ë¶€ìˆ˜íš¨ê³¼ë¥¼ íŠ¹ì •í•˜ëŠ” ê²ƒìœ¼ë¡œ, ë Œë”ë§ì— ì˜í•´ ì§ì ‘ ë°œìƒí•©ë‹ˆë‹¤.
- EffectëŠ” ì–´ë–¤ ìƒí˜¸ì‘ìš©ê³¼ë„ ìƒê´€ì—†ì´ ë°œìƒí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
- EffectëŠ” ì»¤ë°‹ì´ ëë‚œ í›„ì— í™”ë©´ ì—…ë°ì´íŠ¸ê°€ ì´ë£¨ì–´ì§€ê³  ë‚˜ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì´ ì‹œì ì´ Reactì»´í¬ë„ŒíŠ¸ë¥¼ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™” í•˜ê¸° ì¢‹ì€ íƒ€ì´ë°ì…ë‹ˆë‹¤.

### Effectê°€ í•„ìš” ì—†ì„ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤

- ì»´í¬ë„ŒíŠ¸ì— Effectë¥¼ ë¬´ì‘ì • ì¶”ê°€í•˜ì§€ ë§ˆì„¸ìš”
- EffectëŠ” Reactì½”ë“œë¥¼ ë²—ì–´ë‚œ íŠ¹ì • ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™” í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.(ë¸Œë¼ìš°ì € API, ì¨ë“œíŒŒí‹° ìœ„ì ¯, ë„¤íŠ¸ì›Œí¬ ë“±)

### Effectë¥¼ ì‘ì„±í•˜ëŠ” ë²•

- Effectë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒ ì„¸ ë‹¨ê³„ë¥¼ ë”°ë¦„
  1. Effect ì„ ì–¸
     - ê¸°ë³¸ì ìœ¼ë¡œ EffectëŠ” ëª¨ë“  ë Œë”ë§ í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤.
  2. Effect ì˜ì¡´ì„± ì§€ì •
     - ëŒ€ë¶€ë¶„ì˜ EffectëŠ” ëª¨ë“  ë Œë”ë§ í›„ê°€ ì•„ë‹Œ í•„ìš”í•  ë•Œë§Œ ë‹¤ì‹œ ì‹¤í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì˜ì¡´ì„±ì„ ì§€ì •í•˜ì—¬ ì´ë¥¼ ì œì–´í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.
  3. í•„ìš”í•œ ê²½ìš° í´ë¦°ì—… í•¨ìˆ˜ ì¶”ê°€
     - ì¼ë¶€ EffectëŠ” ìˆ˜í–‰ ì¤‘ì´ë˜ ì‘ì—…ì„ ì¤‘ì§€, ì·¨ì†Œ ë˜ëŠ” ì •ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ°ê²½ìš° í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ì—¬ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ë°°ì›ë‹ˆë‹¤.

#### 1ë‹¨ê³„: Effect ì„ ì–¸í•˜ê¸°

- ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ ReactëŠ” í™”ë©´ì„ ì—…ë°ì´íŠ¸í•œ ë‹¤ìŒ useEffect ë‚´ë¶€ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
- useEffectëŠ” í™”ë©´ì— ë Œë”ë§ì´ ë°˜ì˜ë  ë•Œê¹Œì§€ ì½”ë“œ ì‹¤í–‰ì„ ì§€ì—° ì‹œí‚µë‹ˆë‹¤.
- ë Œë”ë§ ì¤‘ ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ” ê°’(ex. ref)ì— ì ‘ê·¼í•´ì•¼ í•˜ëŠ” ë¡œì§ì„ ë Œë”ë§ ì—°ì‚°ì—ì„œ ë¶„ë¦¬í•˜ê¸° ìœ„í•´ useEffectë¡œ ê°ìŒ‰ë‹ˆë‹¤.
- ì™¸ë¶€ ì‹œìŠ¤í…œì— ì ‘ê·¼í•˜ëŠ” ê²½ìš°(ë¯¸ë””ì–´ API) ë˜ëŠ” ë ˆê±°ì‹œ ì½”ë“œ(jQuery í”ŒëŸ¬ê·¸ì¸)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° useEffectë¥¼ í™œìš©í•©ë‹ˆë‹¤.

#### 2ë‹¨ê³„: Effectì˜ ì˜ì¡´ì„± ì§€ì •í•˜ê¸°

- ê¸°ë³¸ì ìœ¼ë¡œ EffectëŠ” ëª¨ë“  ë Œë”ë§ í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤. ì´ëŠ” ì›í•˜ëŠ” ë™ì‘ì´ ì•„ë‹ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë•Œë•Œë¡œ ëŠë¦´ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤í–‰ì„ ê±´ë„ˆë›°ê³  ì‹¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë•Œë•Œë¡œ ì˜ëª»ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë‚˜íƒ€ë‚ ë•Œë§Œ í•œë²ˆ ì‹¤í–‰í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- useEffectì˜ ë‘ ë²ˆì§¸ ì¸ìë¡œ ì˜ì¡´ì„± ë°°ì—´ì„ ì§€ì •í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì‹¤í–‰ì„ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì§€ì •í•œ ëª¨ë“  ì¢…ì†ì„±ì´ ì´ì „ ë Œë”ë§ì˜ ê·¸ê²ƒê³¼ ë™ì¼í•œ ê°’ì„ ê°€ì§„ ê²½ìš°ì—ë§Œ Effectë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ReactëŠ” Object.is ë¹„êµë¥¼ ì‚¬ìš©í•˜ì—¬ ì¢…ì†ì„± ê°’ì„ ë¹„êµí•©ë‹ˆë‹¤.
- **ì˜ì¡´ì„±ì„ ì„ íƒ í•  ìˆ˜ ì—†ë‹¤ëŠ” ì ì— ìœ ì˜ í•˜ì„¸ìš”**, Effectë‚´ë¶€ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ Reactê°€ ê¸°ëŒ€í•˜ëŠ” ê²ƒê³¼ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ë¦°íŠ¸ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œë‚´ì˜ ë§ì€ ë²„ê·¸ë¥¼ ì¡ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì¢…ì†ì„±ì— ì¶”ê°€ë¥¼ ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš° **Effect ë‚´ë¶€ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì—¬ ì¢…ì†ì„±ì´ í•„ìš”í•˜ì§€ ì•Šë„ë¡ ë§Œë“œì„¸ìš”**
- ì˜ì¡´ì„± ë°°ì—´ì´ ë¹„ì–´ ìˆë‹¤ë©´ ë§ˆìš´íŠ¸ ë ë•Œë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤.

#### 3ë‹¨ê³„: í•„ìš”í•˜ë‹¤ë©´ í´ë¦°ì—…ì„ ì¶”ê°€í•˜ì„¸ìš”

- í´ë¦°ì—… í•¨ìˆ˜ëŠ” Effectê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ê¸° ì „ë§ˆë‹¤ ê·¸ë¦¬ê³  ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ ë ë•Œë„ ë§ˆì§€ë§‰ìœ¼ë¡œ í˜¸ì¶œí•©ë‹ˆë‹¤.
- ê°œë°œëª¨ë“œì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë§ˆìš´íŠ¸ í•¨ìœ¼ë¡œì¨ ReactëŠ” ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ë¶€ë¶„ì„ íƒìƒ‰í•˜ê³  ë‹¤ì‹œ ëŒì•„ì™€ë„ ì½”ë“œê°€ ê¹¨ì§€ì§€ ì•Šì„ ê²ƒì„ì„ í™•ì¸í•©ë‹ˆë‹¤.
- í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ì˜ êµ¬í˜„í•˜ë©´ Effectë¥¼ í•œë²ˆ ì‹¤í–‰í•˜ëŠ” ê²ƒê³¼ ì‹¤í–‰, í´ë¦°ì—…, ì´í›„ ë‹¤ì‹œì‹¤í–‰ í•˜ëŠ” ê²ƒ ì‚¬ì´ì— ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ” ì°¨ì´ê°€ ì—†ì–´ì•¼ í•©ë‹ˆë‹¤.
- ë°°í¬í™˜ê²½ì—ì„œëŠ” í•œë²ˆë§Œ ì‹¤í–‰í•©ë‹ˆë‹¤.

### ê°œë°œì¤‘ì— Effectê°€ ë‘ ë²ˆ ì‹¤í–‰ë˜ëŠ” ê²½ìš°ë¥¼ ë‹¤ë£¨ëŠ” ë°©ë²•

#### Reactë¡œ ì‘ì„±ë˜ì§€ ì•Šì€ ìœ„ì ¯ ì œì–´í•˜ê¸°

- ì¼ë¶€ APIëŠ” ì—°ì†í•´ì„œ ë‘ ë²ˆ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ í—ˆìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```tsx
useEffect(() => {
  // <dialog> ìš”ì†Œì˜ showModal ë©”ì„œë“œëŠ” ë‘ ë²ˆ í˜¸ì¶œí•˜ë©´ ì˜ˆì™¸ë¥¼ ë˜ì§‘ë‹ˆë‹¤.
  // í´ë¦°ì—… í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ê³  ì´ í•¨ìˆ˜ì—ì„œ ëŒ€í™” ìƒìë¥¼ ë‹«ë„ë¡ ë§Œë“¤ì–´ë³´ì„¸ìš”.
  const dialog = dialogRef.current;
  dialog.showModal();
  return () => dialog.close();
}, []);
```

#### ì´ë²¤íŠ¸ êµ¬ë…í•˜ê¸°

```ts
// ë§Œì•½ Effectê°€ ì–´ë–¤ ê²ƒì„ êµ¬ë…í•œë‹¤ë©´, í´ë¦°ì—… í•¨ìˆ˜ì—ì„œ êµ¬ë…ì„ í•´ì§€í•´ì•¼ í•©ë‹ˆë‹¤.
useEffect(() => {
  function handleScroll(e) {
    console.log(window.scrollX, window.scrollY);
  }
  window.addEventListener("scroll", handleScroll);
  return () => window.removeEventListener("scroll", handleScroll);
}, []);
```

#### ì• ë‹ˆë©”ì´ì…˜ íŠ¸ë¦¬ê±°

```ts
// Effectê°€ ì–´ë–¤ ìš”ì†Œë¥¼ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ í‘œì‹œí•˜ëŠ” ê²½ìš°, í´ë¦°ì—… í•¨ìˆ˜ì—ì„œ ì• ë‹ˆë©”ì´ì…˜ì„ ì´ˆê¸° ê°’ìœ¼ë¡œ ì¬ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.
useEffect(() => {
  const node = ref.current;
  node.style.opacity = 1; // Trigger the animation
  return () => {
    node.style.opacity = 0; // Reset to the initial value
  };
}, []);
```

#### ë°ì´í„° í˜ì¹­

```ts
// ë§Œì•½ Effectê°€ ì–´ë–¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤ë©´, í´ë¦°ì—… í•¨ìˆ˜ì—ì„œëŠ” fetchë¥¼ ì¤‘ë‹¨í•˜ê±°ë‚˜ ê²°ê³¼ë¥¼ ë¬´ì‹œí•´ì•¼ í•©ë‹ˆë‹¤.
useEffect(() => {
  let ignore = false;

  async function startFetching() {
    const json = await fetchTodos(userId);
    if (!ignore) {
      setTodos(json);
    }
  }

  startFetching();

  return () => {
    ignore = true;
  };
}, [userId]);
```

> Effectì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¢‹ì€ ëŒ€ì•ˆì€ ë¬´ì—‡ì¸ê°€ìš”?
>
> Effect ì•ˆì—ì„œ fetch í˜¸ì¶œì„ ì‘ì„±í•˜ëŠ” ê²ƒì€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¸ê¸°ìˆëŠ” ë°©ë²•ì´ì§€ë§Œ ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.
>
> - EffectëŠ” ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> - Effect ì•ˆì—ì„œ ì§ì ‘ ê°€ì ¸ì˜¤ë©´ ë„¤íŠ¸ì›Œí¬ í­í¬ë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - Effect ì•ˆì—ì„œ ì§ì ‘ ê°€ì ¸ì˜¤ëŠ” ê²ƒì€ ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë¡œë“œí•˜ê±°ë‚˜ ìºì‹œí•˜ì§€ ì•ŠìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
> - ê·¸ë¦¬ í¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
>
> ë‹¤ìŒ ì ‘ê·¼ë°©ì‹ì„ ê¶Œì¥í•©ë‹ˆë‹¤.
>
> - í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° í•´ë‹¹ í”„ë ˆì„ì›Œí¬ì˜ ë‚´ì¥ ë°ì´í„° í˜ì¹­ ë§¤ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ì„¸ìš”
> - í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìºì‹œë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ êµ¬ì¶•í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•˜ì„¸ìš”(ReactQuery, useSWR, ReactRouter6.4+)

#### ë¶„ì„ ë³´ë‚´ê¸°(ë¶„ì„ ì´ë²¤íŠ¸ ë¡œê·¸ ë°œì†¡?)

- ë¶„ì„ ë¡œê·¸ëŠ” ë‘ë²ˆ ë°œì†¡ë¼ë„ ì‚¬ìš©ìê°€ ë³¼ ìˆ˜ ìˆëŠ” ë™ì‘ ì°¨ì´ê°€ ì—†ê¸° ë•Œë¬¸ì— ë¬´ì‹œí•´ë„ ì¢‹ë‹¤.
- ë””ë²„ê¹…ì„ ìœ„í•´ì„œ ìŠ¤í…Œì´ì§• í™˜ê²½ì— ë°°í¬í•˜ê±°ë‚˜, Strict Modeë¥¼ ì¼ì‹œì ìœ¼ë¡œ ì‚¬ìš©ì¤‘ì§€ í•˜ì—¬ ê°œë°œ í™˜ê²½ ì „ìš©ì˜ ì¬ë§ˆìš´íŒ… ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Effect ëŒ€ì‹  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ ë¶„ì„ì„ ë³´ë‚¼ ìˆ˜ë„ ìˆë‹¤.
- ë” ì •ë°€í•œ ë¶„ì„ì„ ìœ„í•´ Intersection Observerë¥¼ ì‚¬ìš©í•´ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ë·°í¬íŠ¸ì— ìˆëŠ”ì§€ì™€ ì–¼ë§ˆë‚˜ ì˜¤ë˜ ë³´ì´ëŠ”ì§€ ì¶”ì í•˜ëŠ”ë° ë„ì›€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Effectê°€ ì•„ë‹Œê²½ìš°: ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™”

- ì¼ë¶€ ë¡œì§ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œì— í•œë²ˆë§Œ ì‹¤í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ë¡œì§ì€ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì— ë°°ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
if (typeof window !== "undefined") {
  // ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
  checkAuthToken();
  loadDataFromLocalStorage();
}

function App() {
  // ...
}
```

- ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ ë¡œì§ì„ ì‹¤í–‰í•˜ë©´ í•œë²ˆë§Œ ì‹¤í–‰ë¨ì´ ë³´ì¥ë©ë‹ˆë‹¤. (useCallback ëŒ€ì‹  ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì— í•¨ìˆ˜ë¥¼ ì„ ì–¸í•œì ì€ ìˆì§€ë§Œ ë¡œì§ì„ ì„ ì–¸ í•´ë³¸ì ì€ ì—†ëŠ”ë°. ì‹¤ì œë¡œ ì €ë ‡ê²Œ ì“¸ ì¼ì´ ìˆì„ê¹Œ?)

### Effectê°€ ì•„ë‹Œê²½ìš°: ì œí’ˆ êµ¬ì…í•˜ê¸°

- ìœ ì €ì˜ ì•¡ì…˜ì— ì˜í•´ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë¡œì§ì— ê²½ìš° Effectì˜ ë¡œì§ì„ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ì´ë™í•œë‹¤.

### ìœ„ì—ì„œ ì„¤ëª…í•œ ëª¨ë“  ê²ƒë“¤ì„ ì ìš©í•´ë³´ê¸°

- ReactëŠ” í•­ìƒ ì´ì „ ë Œë”ì˜ Effectë¥¼ ë‹¤ìŒ ë Œë”ì˜ Effect ë³´ë‹¤ ë¨¼ì € ì •ë¦¬í•©ë‹ˆë‹¤. ( ì‹¤í–‰ë³´ë‹¤ í´ë¦°ì—…ì´ ë¨¼ì € ì‹¤í–‰ëœë‹¤. )
- EffectëŠ” í•´ë‹¹ ë Œë”ì˜ state ê°’ì„ ìº¡ì²˜ í•©ë‹ˆë‹¤. ì´ ì‘ë™ ë°©ì‹ì€ í´ë¡œì €ì…ë‹ˆë‹¤.

> ê°ê°ì˜ ë Œë”ë§ì€ ê°ê°ì˜ ê³ ìœ í•œ Effectë¥¼ ê°–ìŠµë‹ˆë‹¤.
>
> ### ì´ˆê¸° ë Œë”ë§
>
> - Effect ë˜í•œ ë Œë”ë§ ê²°ê³¼ë¬¼ì˜ ì¼ë¶€ì…ë‹ˆë‹¤.
>
> ### ê°™ì€ ì˜ì¡´ì„± ì‚¬ì´ì—ì„œì˜ ì¬ë Œë”ë§
>
> - ëª¨ë“  ì˜ì¡´ì„±ì´ ë™ì¼í•œ ê²½ìš° ReactëŠ” ë‹¤ìŒ ëœë”ë§ì—ì„œì˜ Effectë¥¼ ë¬´ì‹œí•©ë‹ˆë‹¤.
>
> ### ë‹¤ë¥¸ ì˜ì¡´ì„±ìœ¼ë¡œ ì¬ë Œë”ë§
>
> - ReactëŠ” ë‹¤ìŒ ë Œë”ë§ì˜ Effectë¥¼ ì ìš©í•˜ê¸° ì „ì— í˜„ì¬ ëœë”ë§ì˜ ì‹¤í–‰ëœ Effectë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤.
>
> ### ì–¸ë§ˆìš´íŠ¸
>
> - ReactëŠ” ì–¸ë§ˆìš´íŠ¸ ì‹œì—ë„ Effectì˜ í´ë¦°ì—…í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
>
> ### ê°œë°œ í™˜ê²½ì—ì„œë§Œ ë™ì‘
>
> - Strict Modeê°€ í™œì…©í™” ëœ ê²½ìš° ReactëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ í•œ ë²ˆ ë§ˆìš´íŠ¸í•œ í›„ì— ë‹¤ì‹œ ë§ˆìš´íŠ¸ í•©ë‹ˆë‹¤.
> - ì´ëŠ” í´ë¦°ì—…ì´ í•„ìš”í•œ Effectë¥¼ ì°¾ëŠ”ë° ë„ì›€ì´ ë˜ë©° ê²½ìŸì¡°ê±´ê³¼ ê°™ì€ ë²„ê·¸ë¥¼ ì´ˆê¸°ì— ë“œëŸ¬ë‚  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.
> - íŒŒì¼ì„ ì €ì¥í•  ë•Œë§ˆë‹¤ Effectë¥¼ ë‹¤ì‹œ ë§ˆìš´íŠ¸ í•©ë‹ˆë‹¤.

## Effectê°€ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš°

### ë¶ˆí•„ìš”í•œ Effectë¥¼ ì œê±°í•˜ëŠ” ë°©ë²•

- ì¼ë°˜ì ìœ¼ë¡œ Effectê°€ í•„ìš”í•˜ì§€ ì•Šì€ ë‘ ê°€ì§€ ì¼ë°˜ì ì¸ ê²½ìš°
  - ë Œë”ë§ì„ ìœ„í•´ ë°ì´í„°ë¥¼ ë³€í™˜í•˜ëŠ” ë° Effectê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  - ì‚¬ìš©ì ì´ë²¤íŠ¸ë¥¼ í•¸ë“¤ë§ í•˜ëŠ” ë° Effectê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### props ë˜ëŠ” stateì— ë”°ë¼ state ì—…ë°ì´íŠ¸ í•˜ê¸°

- ê¸°ì¡´ propsë‚˜ stateì—ì„œ ê³„ì‚°í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ìˆìœ¼ë©´ , ê·¸ê²ƒì„ stateì— ë„£ì§€ ë§ˆì„¸ìš”. ëŒ€ì‹ , ë Œë”ë§ ì¤‘ì— ê³„ì‚°í•˜ê²Œ í•˜ì„¸ìš”.

```tsx
// Bad!!!
function Form() {
  const [firstName, setFirstName] = useState("Taylor");

  const [lastName, setLastName] = useState("Swift");

  // ğŸ”´ í”¼í•˜ì„¸ìš”: ì¤‘ë³µëœ state ë° ë¶ˆí•„ìš”í•œ Effect

  const [fullName, setFullName] = useState("");

  useEffect(() => {
    setFullName(firstName + " " + lastName);
  }, [firstName, lastName]);

  // ...
}
```

```tsx
function Form() {
  const [firstName, setFirstName] = useState("Taylor");

  const [lastName, setLastName] = useState("Swift");

  // âœ… ì¢‹ìŠµë‹ˆë‹¤: ë Œë”ë§ ì¤‘ì— ê³„ì‚°ë¨

  const fullName = firstName + " " + lastName;

  // ...
}
```

### ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ê³„ì‚° ìºì‹±í•˜ê¸°

- ê³„ì‚°ì´ ì˜¤ë˜ ê±¸ë¦¬ì§€ ì•ŠëŠ” ê³„ì‚°ì€ effectë‚´ë¶€ì—ì„œ stateë¥¼ ì—…ë°ì´íŠ¸ í•˜ì§€ì•Šê³  ìœ„ì—ì„œ ë°°ìš´ê²ƒ ì²˜ëŸ¼ ë Œë”ë§ ì¤‘ì— ê³„ì‚°ë  ìˆ˜ ìˆë„ë¡ ë³€ìˆ˜ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.
- ê³„ì‚°ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê³„ì‚°(ë¹„ì‹¼ ê³„ì‚°)ì€ `useMemo`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìºì‹±(ë©”ëª¨ì´ì œì´ì…˜, ê³„ì‚°ê°’ì„ ì €ì¥í•´ë‘ê³  ìˆëŠ”ê²ƒ) í•´ì¤ë‹ˆë‹¤.

```tsx
import { useMemo, useState } from "react";

function TodoList({ todos, filter }) {
  const [newTodo, setNewTodo] = useState("");
  const visibleTodos = useMemo(() => {
    // âœ… todos ë˜ëŠ” filterê°€ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    return getFilteredTodos(todos, filter);
  }, [todos, filter]);
  // ...
}
```

- useMemoì˜ dependency arrayì— ì‚¬ìš©ë˜ëŠ” ê°’ì„ ë„£ëŠ”ê²ƒì€ useEffectì˜ ê·¸ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ì˜ì¡´ì„± ë°°ì—´ì˜ ê°’ì´ ë³€í•˜ì§€ ì•Šìœ¼ë©´ useMemoëŠ” ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

> ### ê³„ì‚°ì´ ë¹„ì‹¼ì§€ ì–´ë–»ê²Œ ì•Œ ìˆ˜ ìˆë‚˜ìš”?
>
> (ë©”ëª¨ì´ì œì´ì…˜ë„ ë¹„ìš©ì¸ë° ì–¸ì œ ì‚¬ìš©í•´ì•¼ í• ì§€ ê°€ì´ë“œ)
>
> - ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰ì‹œê°„ì„ ì¶•ì •í•©ë‹ˆë‹¤. ì˜ˆë¥¼ë“¤ì–´ 1ms ì´ìƒì˜ ê°’ì´ ë‚˜ì™”ë‹¤ë©´ ë¹„ì‹¼ ì—°ì‚°ì´ë¼ëŠ” ê¸°ì¤€ì„ ì¡ê³  ì¸¡ì •í•˜ì—¬ ê¸°ì¤€ì„ ì´ˆê³¼í•˜ë©´ useMemoë¡œ ìºì‹±í•©ë‹ˆë‹¤
>
> ```tsx
> console.time("filter array");
> const visibleTodos = getFilteredTodos(todos, filter);
> console.timeEnd("filter array");
> ```
>
> - `useMemo`ë¡œ ê°ì‹¼ë’¤ ë¹„êµë¥¼ í•´ë³¸ë‹¤
>
> ```tsx
> console.time("filter array");
> const visibleTodos = useMemo(() => {
>   return getFilteredTodos(todos, filter); // todosì™€ filterê°€ ë³€ê²½ë˜ì§€ ì•Šì€ ê²½ìš° ê±´ë„ˆëœë‹ˆë‹¤
> }, [todos, filter]);
> console.timeEnd("filter array");
> ```
>
> - ë‹¹ì‹ ì˜ ì»´í“¨í„°ê°€ ì‚¬ìš©ìì˜ ì»´í“¨í„°ë³´ë‹¤ ë¹ ë¥¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¸ìœ„ì ì¸ ì†ë„ ì €í•˜ë¡œ ì„±ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ Chromeì€ ì´ë¥¼ ìœ„í•´ CPU ìŠ¤ë¡œí‹€ë§ ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.
> - ê°œë°œ ì¤‘ì— ì„±ëŠ¥ì„ ì¸¡ì •í•˜ëŠ” ê²ƒì€ ê°€ì¥ ì •í™•í•œ ê²°ê³¼ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì— ìœ ì˜í•˜ì„¸ìš”.
> - í”„ë¡œë•ì…˜ìš© ì•±ì„ ë¹Œë“œí•˜ê³  ì‚¬ìš©ìê°€ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ê¸°ê¸°ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.

### props ë³€ê²½ ì‹œ ëª¨ë“  state ì´ˆê¸°í™”

- propsê°€ ë³€ê²½ëì„ë•Œ stateë¥¼ ì´ˆê¸°í™” í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ í•´ì„œëŠ” ì•ˆë©ë‹ˆë‹¤.

```tsx
export default function ProfilePage({ userId }) {
  const [comment, setComment] = useState("");

  // ğŸ”´ í”¼í•˜ì„¸ìš”: Effectì—ì„œ prop ë³€ê²½ ì‹œ state ì´ˆê¸°í™”
  useEffect(() => {
    setComment("");
  }, [userId]);
  // ...
}
```

- ReactëŠ” ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ê°€ ê°™ì€ ìœ„ì¹˜ì— ë Œë”ë§ ë  ë•Œ stateë¥¼ ë³´ì¡´í•©ë‹ˆë‹¤.

- ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ ëª…ì‹œì ì¸ keyë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë…ì ìœ¼ë¡œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¼ëŠ”ê²ƒì„ Reactì— ì•Œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
export default function ProfilePage({ userId }) {
  return <Profile userId={userId} key={userId} />;
}

function Profile({ userId }) {
  // âœ… ì´ state ë° ì•„ë˜ì˜ ë‹¤ë¥¸ stateëŠ” key ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ì¬ì„¤ì •ë©ë‹ˆë‹¤.
  const [comment, setComment] = useState("");
  // ...
}
```

## React Effectì˜ ìƒëª…ì£¼ê¸°

### Effectì˜ ìƒëª…ì£¼ê¸°

- ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸°
  - ì»´í¬ë„ŒíŠ¸ëŠ” í™”ë©´ì— ì¶”ê°€ë ë•Œ ë§ˆìš´íŠ¸ ë©ë‹ˆë‹¤.
  - ì»´í¬ë„ŒíŠ¸ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ìƒí˜¸ì‘ìš©ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ ìƒˆë¡œìš´ propsë‚˜ stateë¥¼ ìˆ˜ì‹ í•˜ë©´ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
  - ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì œê±°ë˜ë©´ ë§ˆìš´íŠ¸ í•´ì œë©ë‹ˆë‹¤.
- Effectì˜ ìƒëª…ì£¼ê¸°
  - ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸°ì™€ ë…ë¦½ì ì´ë‹¤. ê° effect ë§ˆë‹¤ ìƒê° í•´ì•¼í•œë‹¤.

### ë™ê¸°í™”ê°€ ë‘ ë²ˆ ì´ìƒ ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ëŠ” ì´ìœ 

### Reactê°€ effectë¥¼ ì¬ë™ê¸°í™”í•˜ëŠ” ë°©ë²•

- dependency arrayì˜ ê°’ì´ ë³€ê²½ë¨ì„ ê°ì§€í•©ë‹ˆë‹¤.
- cleanup functionì„ í˜¸ì¶œ í•©ë‹ˆë‹¤.
- React ëœë”ë§ ì¤‘ì— effectë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
- ë‹¤ë¥¸ í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ í•´ì œë˜ê³  cleanup functionì„ í˜¸ì¶œí•˜ì—¬ ë™ê¸°í™”ë¥¼ ì¤‘ì§€í•©ë‹ˆë‹¤.

### effectì˜ ê´€ì ì—ì„œ ìƒê°í•˜ê¸°

- ì „ì—ëŠ” ì»´í¬ë„ŒíŠ¸ ê´€ì ì—ì„œ effectë¥¼ ìƒê° í–ˆê³  íŠ¹ì • ì‹œì ì— ì‹¤í–‰ë˜ëŠ” 'ì½œë°±' ë˜ëŠ” 'ìƒëª…ì£¼ê¸° ì´ë²¤íŠ¸'ë¡œë§Œ ìƒê°í•˜ê¸° ì‰¬ì› ìœ¼ë‚˜ ì´ëŸ° ë°©ì‹ì€ ë§¤ìš° ë¹ ë¥´ê²Œ ë³µì¡í•´ì§€ë¯€ë¡œ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
- í•œ ë²ˆì— í•˜ë‚˜ì˜ ì‹œì‘/ì¤‘ì§€ ì‚¬ì´í´ì—ë§Œ ì§‘ì¤‘í•˜ì„¸ìš”
- ë™ê¸°í™”ë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ê³¼ ì¤‘ì§€í•˜ëŠ” ë°©ë²•ë§Œ ì‘ì„±í•˜ë©´ ë©ë‹ˆë‹¤.
- ì´ ì‘ì—…ì„ ì˜ ìˆ˜í–‰í•˜ë©´ í•„ìš”í•œ íšŸìˆ˜ë§Œí¼ effectë¥¼ ì‹œì‘í•˜ê³  ì¤‘ì§€í•  ìˆ˜ ìˆëŠ” íƒ„ë ¥ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Reactê°€ effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”ë  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸ í•˜ëŠ” ë°©ë²•

- Strict Modeì—ì„œ ê°œë°œë‹¨ê³„ì— ì¦‰ì‹œ ê°•ì œë¡œ ë™ê¸°í™”ë¥¼ ìˆ˜í–‰í•˜ì—¬ effectê°€ ë‹¤ì‹œ ë™ê¸°í™”í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
  - ê·¸ëŸ¬ë‹ˆê¹Œ useEffectë¥¼ 2ë²ˆ ì‹¤í–‰í–ˆì„ë•Œë„ ë¬¸ì œê°€ ì—†ëŠ”ì§€ í™•ì¸í•œë‹¤ëŠ” ì´ë§ì´ë‹¤.
  - ë¡œì§ì´ ìˆœìˆ˜í•œì§€! cleanup functionì€ ì˜ ì‘ì„± ëëŠ”ì§€! í™•ì¸í•œë‹¤!

### Reactê°€ effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì¸ì‹í•˜ëŠ” ë°©ë²•

- dependency array(ì˜ì¡´ì„± ë°°ì—´)ì„ ì´ì „ ëœë”ë§ì˜ ê°’ê³¼ ë¹„êµí•©ë‹ˆë‹¤.(Object.isì™€ ë¹„êµ) ì´ì „ ëœë”ë§ ê°’ê³¼ ë‹¤ë¥¸ ê²½ìš° ë™ê¸°í™”ë¥¼ ì§„í–‰í•˜ê³  ê·¸ë ‡ì§€ ì•Šì€ê²½ìš° ì•„ë¬´ ì‘ì—…ë„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### ê° effectëŠ” ë³„ë„ì˜ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

- ì½”ë“œì˜ ê° effectëŠ” ë³„ë„ì˜ ë…ë¦½ì ì¸ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ì•¼ í•©ë‹ˆë‹¤.
- í”„ë¡œì„¸ìŠ¤ê°€ ë™ì¼í•˜ë‹¤ë©´ effectë¥¼ ë‚˜ëˆ„ì§€ ì•ŠìŠµë‹ˆë‹¤. ì½”ë“œëŠ” ê¹”ë”í•´ ë³´ì¼ìˆ˜ ìˆì§€ë§Œ ìœ ì§€ë³´ìˆ˜ê°€ ë” ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.(í•˜ì§€ë§ë¼ë©´ í•˜ì§€ë§ˆ ì œë°œ)

### ë°˜ì‘í˜• ê°’ì— "ë°˜ì‘"í•˜ëŠ” effect

- ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì— ì„ ì–¸ëœ ìƒìˆ˜ëŠ” ì˜ì¡´ì„± ë°°ì—´ì— ë“¤ì–´ê°ˆ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. => í•­ìƒ ê°™ì€ê°’ì´ì–ì•„!
- ì»´í¬ë„ŒíŠ¸ì˜ Props, state ë° ê¸°íƒ€ê°’ì€ ë Œë”ë§ ì¤‘ì— ê³„ì‚°ë˜ì–´ ë³€ê²½ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì˜ì¡´ì„± ë°°ì—´ì— ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤. => ë³€í•  ìˆ˜ ìˆëŠ” ê°’ì€ ì˜ì¡´ì„± ë°°ì—´ì—!

### ë¹ˆ ì¢…ì†ì„±ì´ ìˆëŠ” effectì˜ ì˜ë¯¸

```tsx
useEffect(() => {
  somethingDo();
}, []);
```

- ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œë§Œ ì‹¤í–‰ë˜ê³  ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ê°€ í•´ì œë  ë•Œë§Œ ì—°ê²°ì´ ëŠì–´ì§„ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- effect ê´€ì ì—ì„œ ìƒê°í•˜ë©´ ì˜ì¡´ì„± ë°°ì—´ì´ ë¹„ì–´ìˆê¸° ë•Œë¬¸ì— ë§ˆìš´íŠ¸ì™€ ë§ˆìš´íŠ¸ í•´ì œì— ìƒê´€ì—†ì´ ë™ê¸°í™”ë¥¼ í•  ì¼ì´ ì—†ë‹¤ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í•˜ë©´ ë©ë‹ˆë‹¤.

### ì»´í¬ë„ŒíŠ¸ ë³¸ë¬¸ì— ì„ ì–¸ëœ ëª¨ë“  ë³€ìˆ˜ëŠ” ë°˜ì‘í˜•ì…ë‹ˆë‹¤.

- ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ ëª¨ë“  ê°’(ì»´í¬ë„ŒíŠ¸ ë³¸ë¬¸ì˜ props, state, ë³€ìˆ˜ í¬í•¨)ì€ ë°˜ì‘í˜•ì…ë‹ˆë‹¤. ëª¨ë“  ë°˜ì‘í˜• ê°’ì€ ë‹¤ì‹œ ë Œë”ë§í•  ë•Œ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë°˜ì‘í˜• ê°’ì„ effectì˜ ì¢…ì† ìš”ì†Œë¡œ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.

> ì „ì—­ ë˜ëŠ” ë³€ê²½í•  ìˆ˜ ìˆëŠ” ê°’ì´ ì¢…ì†ì„±ì´ ë  ìˆ˜ ìˆë‚˜ìš”?
>
> - ë³€ê²½í•  ìˆ˜ ìˆëŠ” ê°’(ì „ì—­ ë³€ìˆ˜ í¬í•¨)ì€ ë°˜ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> - `location.pathname`ê³¼ ê°™ì€ ë³€ê²½ ê°€ëŠ¥í•œ ê°’ì€ ì¢…ì†ì„±ì´ ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë Œë”ë§ ë„ì¤‘ ë³€ê²½ í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ë Œë”ë§ì˜ ìˆœìˆ˜ì„±ì„ ê¹¨ëœ¨ë¦¬ê¸° ë•Œë¬¸ì— React ê·œì¹™ì„ ìœ„ë°˜í•©ë‹ˆë‹¤. ëŒ€ì‹ , useSyncExternalStoreë¥¼ ì‚¬ìš©í•˜ì—¬ ì™¸ë¶€ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ê°’ì„ ì½ê³  êµ¬ë…í•´ì•¼ í•©ë‹ˆë‹¤.
> - ref.currentì™€ ê°™ì´ ë³€ê²½ ê°€ëŠ¥í•œ ê°’ì´ë‚˜ ì´ ê°’ì—ì„œ ì½ì€ ê²ƒ ì—­ì‹œ ì¢…ì†ì„±ì´ ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì¬ ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•˜ì§€ ì•Šê³ ë„ ë¬´ì–¸ê°€ë¥¼ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - ë¦°í„°ëŠ” ì´ëŸ° ë¬¸ì œë¥¼ ìë™ìœ¼ë¡œ í™•ì¸í•´ì¤ë‹ˆë‹¤ ë¦°í„° ì”ì‹œë‹¤ ë¦°í„°!

### ReactëŠ” ëª¨ë“  ë°˜ì‘í˜• ê°’ì„ ì¢…ì†ì„±ìœ¼ë¡œ ì§€ì •í–ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

- ë¦°í„°ì— React ì„¤ì •ì„ í•˜ë©´ ì˜ì¡´ì„± ë°°ì—´ì— ì œëŒ€ë¡œëœ ì˜ì¡´ì„±ì„ ì§€ì •í–ˆëŠ”ì§€ ì²´í¬í•´ì¤ë‹ˆë‹¤. ë¦°í„° ì”ì‹œë‹¤ ë¦°í„°!
- useStateì—ì„œ ë°˜í™˜ë˜ëŠ” `setState`í•¨ìˆ˜ì™€ `useRef`ì—ì„œ ë°˜í™˜ë˜ëŠ” ref ê°ì²´ëŠ” ì•ˆì •ì ì´ë©° ì˜ì¡´ì„± ë°°ì—´ì—ì„œ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ë‹¤ì‹œ ë™ê¸°í™”í•˜ì§€ ì•Šìœ¼ë ¤ëŠ” ê²½ìš° ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?

- í•­ìƒ ê°™ì€ ê°’ì„ ê°–ëŠ” ë³€ìˆ˜ë¥¼ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ë¡œ ì˜®ê¸°ê±°ë‚˜ effect ë‚´ë¶€ë¡œ ì˜®ê¹ë‹ˆë‹¤.
- ì¢…ì†ì„±ì€ **ì„ íƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**
  - efffectê°€ ë…ë¦½ì ì¸ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”
  - propsë‚˜ stateì— ë°˜ì‘í•˜ì§€ ì•Šê³  effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™” í•˜ì§€ ì•Šê³  ìµœì‹ ê°’ì„ ì½ìœ¼ë ¤ë©´ effectì— ìœ ì§€í•  ê²ƒê³¼ effectì´ë²¤íŠ¸ë¼ê³  í•˜ëŠ”ê²ƒìœ¼ë¡œ ì¶”ì¶œí• ìˆ˜ ìˆëŠ”ê²ƒìœ¼ë¡œ ë¶„ë¦¬í•˜ë©´ ë©ë‹ˆë‹¤.
  - ê°ì²´ì™€ í•¨ìˆ˜ë¥¼ ì¢…ì†ì„±ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ë§ˆì„¸ìš”. ë Œë”ë§ ì¤‘ì— ì˜¤ë¸Œì íŠ¸ì™€ í•¨ìˆ˜ë¥¼ ìƒì„±í•œ ë‹¤ìŒ effectì•ˆì—ì„œ ì½ìœ¼ë©´ ë Œë”ë§í•  ë•Œë§ˆë‹¤ ì˜¤ë¸Œì íŠ¸ì™€ í•¨ìˆ˜ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ effect ì‹¤í–‰ì„ í•˜ê²Œë©ë‹ˆë‹¤.
- **ì œë°œ! ì œë°œì œë°œ!** ë¦°í„°ë¥¼ ignore í•˜ì—¬ ë¬´ì‹œí•˜ë„ë¡ í•˜ì§€ë§ˆì„¸ìš” effect ë‚´ë¶€ ë˜ëŠ” ì™¸ë¶€ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•˜ì„¸ìš” **ì œë°œ!**

## Effectì—ì„œ ì´ë²¤íŠ¸ ë¶„ë¦¬í•˜ê¸°

### ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì™€ effect ì¤‘ì— ì„ íƒí•˜ê¸°

- í•´ë‹¹ ì½”ë“œê°€ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ì´ìœ ë¥¼ ê³ ë ¤í•´ë³´ì

### ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” íŠ¹ì • ìƒí˜¸ì‘ìš©ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

### EffectëŠ” ë™ê¸°í™”ê°€ í•„ìš”í•  ë•Œë§ˆë‹¤ ì‹¤í–‰ëœë‹¤.

### ë°˜ì‘í˜• ê°’ê³¼ ë°˜ì‘í˜• ë¡œì§

- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ ë‚´ë¶€ ë¡œì§ì€ ë°˜ì‘í˜•ì´ ì•„ë‹™ë‹ˆë‹¤.
- Effect ë‚´ë¶€ ë¡œì§ì€ ë°˜ì‘í˜• ì…ë‹ˆë‹¤. effectì—ì„œ ë°˜ì‘í˜• ê°’ì„ ì½ëŠ” ê²½ìš° ê·¸ ê°’ì„ ì˜ì¡´ì„±ìœ¼ë¡œ ì§€ì •í•´ì•¼í•©ë‹ˆë‹¤.

### ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ ë¡œì§ì€ ë°˜ì‘í˜•ì´ ì•„ë‹ˆë‹¤.

### Effect ë‚´ë¶€ ë¡œì§ì€ ë°˜ì‘í˜•ì´ë‹¤.

### Effectì—ì„œ ë¹„ë°˜ì‘í˜• ë¡œì§ ì¶”ì¶œí•˜ê¸°

```tsx
function ChatRoom({ roomId, theme }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.on("connected", () => {
      showNotification("ì—°ê²°ë¨!", theme);
    });
    connection.connect();
    return () => connection.disconnect();
  }, [roomId, theme]);

  return <h1>{roomId} ë°©ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</h1>;
}
```

### Effect Event ì„ ì–¸í•˜ê¸°(ì‹¤í—˜ì )

- Effect Eventì˜ ë‚´ë¶€ ë¡œì§ì€ ë°˜ì‘í˜•ì´ ì•„ë‹ˆë©° í•­ìƒ propsì™€ stateìµœê·¼ ê°’ì„ ë°”ë¼ë´…ë‹ˆë‹¤.
- Effect Eventë¥¼ ì‚¬ìš©í•˜ë©´ Effectì˜ ë°˜ì‘ì„±ê³¼ ë°˜ì‘í˜•ì´ì–´ì„œëŠ” ì•ˆ ë˜ëŠ” ì½”ë“œ ì‚¬ì´ì˜ â€œì—°ê²°ì„ ëŠì–´ì¤ë‹ˆë‹¤â€.

```tsx
function ChatRoom({ roomId, theme }) {
  const onConnected = useEffectEvent(() => {
    showNotification("ì—°ê²°ë¨!", theme);
  });

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.on("connected", () => {
      onConnected();
    });
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]); // âœ… ëª¨ë“  ì˜ì¡´ì„±ì´ ì„ ì–¸ë¨

  return <h1>{roomId} ë°©ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</h1>;
}
```

### Effect Eventë¡œ ìµœê·¼ propsì™€ state ì½ê¸°

```tsx
// Before
function Page({ url }) {
  const { items } = useContext(ShoppingCartContext);
  const numberOfItems = items.length;

  useEffect(() => {
    logVisit(url, numberOfItems);
  }, [url]); // ğŸ”´ React Hook useEffect has a missing dependency: 'numberOfItems'
  // ...
}
```

```tsx
// After
function Page({ url }) {
  const { items } = useContext(ShoppingCartContext);
  const numberOfItems = items.length;

  const onVisit = useEffectEvent((visitedUrl) => {
    logVisit(visitedUrl, numberOfItems);
  });

  useEffect(() => {
    onVisit(url);
  }, [url]); // âœ… ëª¨ë“  ì˜ì¡´ì„± ì„ ì–¸ë¨
  // ...
}
```

### Effect Eventì˜ í•œê³„

- Effect ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œí•˜ì„¸ìš”
- ì ˆëŒ€ë¡œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë‚˜ Hookì— ì „ë‹¬í•˜ì§€ë§ˆì„¸ìš”
